<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="ie=edge"><title>Immerser — Javascript Library to Switch Fixed Blocks on Scroll</title><link href="https://fonts.googleapis.com/css?family=Questrial&display=swap" rel="stylesheet"><link rel="stylesheet" href="main.48b3db1d.css"><link rel="icon" type="image/png" href="favicon.e868a104.png"><link rel="icon" type="image/gif" href="favicon.49fec49a.gif"><link rel="icon" type="image/jpeg" href="favicon.26f28a20.jpg"><link rel="icon" type="image/vnd.microsoft.icon" href="favicon.79c61f08.ico"><link rel="stylesheet" href="main.1f19ae8e.css"></head><body> <div class="fixed" data-immerser=""> <div class="fixed__pager pager" data-immerser-pager="" data-immerser-solid="pager"></div> <a href="#reasoning" class="fixed__logo logo" data-immerser-solid="logo" data-immerser-synchro-hover="logo">immerser</a> <div class="fixed__menu menu" data-immerser-solid="menu"> <a href="#reasoning" data-immerser-synchro-hover="reasoning" class="menu__link">Reasoning</a> <a href="#how-to-use" data-immerser-synchro-hover="how-to-use" class="menu__link">How to Use</a> <a href="#how-it-works" data-immerser-synchro-hover="how-it-works" class="menu__link">How it Works</a> <a href="#options" data-immerser-synchro-hover="options" class="menu__link">Options</a> <a href="#possibilities" data-immerser-synchro-hover="possibilities" class="menu__link">Possibilities</a> </div> <div class="fixed__social social" data-immerser-solid="social"> <a href="https://github.com/dubaua/immerser">github</a> <a href="mailto:dubaua@gmail.com">dubaua@gmail.com</a> </div> <div class="fixed__about about" data-immerser-solid="about">© 2019 — Vladimir Lysov, Chelyabinsk, Russia</div> <div data-immerser-mask=""> <div data-immerser-mask-inner=""> <div class="fixed__emoji emoji" data-emoji-animating="false"> <img src="why-immerser.528b874f.svg" alt="Reasoning" class="emoji__face"> </div> </div> </div> <div data-immerser-mask=""> <div data-immerser-mask-inner=""> <div class="fixed__emoji emoji" data-emoji-animating="false"> <img src="how-to-use.7cb4e796.svg" alt="How to Use" class="emoji__face"> </div> </div> </div> <div data-immerser-mask=""> <div data-immerser-mask-inner=""> <div class="fixed__emoji emoji" data-emoji-animating="false"> <img src="how-it-works-face.43f6f218.svg" alt="How it Works Face" class="emoji__face"> <img src="how-it-works-hand.883dfd50.svg" alt="How it Works Hand" class="emoji__hand"> </div> </div> </div> <div data-immerser-mask=""> <div data-immerser-mask-inner=""> <div class="fixed__emoji emoji" data-emoji-animating="false"> <img src="options.a073efcc.svg" alt="Options" class="emoji__face"> </div> </div> </div> <div data-immerser-mask=""> <div data-immerser-mask-inner=""> <div class="fixed__emoji emoji" data-emoji-animating="false"> <img src="possibilities.7ef7b963.svg" alt="Possibilities" class="emoji__face"> </div> </div> </div> </div> <header class="header"> <a href="#reasoning" class="logo">immerser</a> </header> <div id="reasoning" class="grid" data-immerser-layer="" data-immerser-layer-config="{&quot;logo&quot;: &quot;logo--contrast-lg&quot;, &quot;pager&quot;: &quot;pager--contrast-lg&quot;, &quot;social&quot;: &quot;social--contrast-lg&quot;}"> <div class="grid__col grid__col--alpha background--contrast"></div> <div class="grid__col grid__col--beta tall start end background"> <div class="grid__content typography"> <h1>Why Immerser?</h1><p> Nowadays designers tends to&nbsp;create complex logic and fix parts of&nbsp;the&nbsp;interface. Also they colour page sections contrastly. How to&nbsp;deal with this mess? Immerser can help you. </p><p> Immerser fast, because it&nbsp;calculates states once on&nbsp;init. Then it&nbsp;watchs the&nbsp;scroll position and schedules redraw <abbr title="Document Object Model">DOM</abbr> in&nbsp;the&nbsp;next event loop tick with requestAnimationFrame. Script changes transform property, so&nbsp;it&nbsp;uses graphic hardware acceleration. </p><p> Immerser doesn&rsquo;t have any dependencies and is&nbsp;written on&nbsp;vanilla&nbsp;js. Only&nbsp;3.1kb gzipped. </p> <h1>Terms</h1><p> <strong class="highlighter" data-highlighter="[data-immerser]">Immerser root</strong>&nbsp;&mdash; is&nbsp;the parent container for your fixed parts <strong class="highlighter" data-highlighter="[data-immerser-solid], .emoji">solids</strong>. Actually, solids are positioned absolutely to&nbsp;fixed immerser root. The <strong class="highlighter" data-highlighter="[data-immerser-layer]">layers</strong> are sections of&nbsp;your page. Also you may want to&nbsp;add <strong class="highlighter" data-highlighter="[data-immerser-pager]">pager</strong> to&nbsp;navigate through layers and indicate active state. </p> </div> </div> <div class="grid__col--gamma background"></div> </div> <div id="how-to-use" class="grid" data-immerser-layer="" data-immerser-layer-config="{&quot;pager&quot;: &quot;pager--contrast-only-md&quot;, &quot;menu&quot;: &quot;menu--contrast&quot;, &quot;about&quot;: &quot;about--contrast&quot;}"> <div class="grid__col grid__col--alpha"></div> <div class="grid__col grid__col--beta-gamma tall"> <div class="grid"> <div class="grid__col grid__col--beta start"> <div class="grid__content typography"> <h1>Install</h1> <p>Using npm:</p> <p>Using yarn:</p> <p>Or if you want to use immerser as UMD:</p> </div> </div> <div class="grid__col grid__col--gamma start background--contrast scroller-x"> <div class="as-if-title" aria-hidden="true"></div> <div class="grid__content code-highlight code-highlight--contrast"> <pre><code>npm install immerser

yarn add immerser

</code></pre>
<pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://unpkg.com/immerser@1.0.0/dist/immerser.min.umd.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre> </div> </div> </div> <div class="grid"> <div class="grid__col grid__col--beta"> <div class="grid__content typography"> <h1>Prepare Your Markup</h1><p> First, setup fixed container as&nbsp;the immerser root container, and add the&nbsp;<code>data-immerser</code> attribute. </p><p> Next place absolutely positioned children into the immerser parent and add&nbsp;<code>data-immerser-solid="solid-id"</code> to&nbsp;each. </p><p> Then add&nbsp;<code>data-immerser-layer</code> attribute to&nbsp;each section and pass configuraton in <code>data-immerser-layer-config='{"solid-id": "classname-modifier"}'</code>. Otherwise, you can pass configuration as <code>solidClassnameArray</code> option to&nbsp;immerser. Config should contain JSON describing what class should be applied on&nbsp;each solid element, when it's&nbsp;over a&nbsp;section. </p><p>Also feel free to&nbsp;add <code>data-immerser-pager</code> to&nbsp;create a pager for your layers.</p> </div> </div> <div class="grid__col grid__col--gamma background--contrast scroller-x"> <div class="as-if-title" aria-hidden="true"></div> <div class="grid__content code-highlight code-highlight--contrast"> <pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fixed<span class="token punctuation">"</span></span> <span class="token attr-name">data-immerser</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fixed__pager pager<span class="token punctuation">"</span></span> <span class="token attr-name">data-immerser-pager</span> <span class="token attr-name">data-immerser-solid</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pager<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fixed__logo logo<span class="token punctuation">"</span></span> <span class="token attr-name">data-immerser-solid</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>logo<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>immerser<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fixed__menu menu<span class="token punctuation">"</span></span> <span class="token attr-name">data-immerser-solid</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>menu<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#reasoning<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>menu__link<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Reasoning<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#how-to-use<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>menu__link<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>How to Use<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#how-it-works<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>menu__link<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>How it Works<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#options<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>menu__link<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Options<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#possibilities<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>menu__link<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Possibilities<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fixed__social social<span class="token punctuation">"</span></span> <span class="token attr-name">data-immerser-solid</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>social<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://github.com/dubaua/immerser<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>github<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mailto:dubaua@gmail.com<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>dubaua@gmail.com<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fixed__about about<span class="token punctuation">"</span></span> <span class="token attr-name">data-immerser-solid</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>about<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>© 2019 — Vladimir Lysov, Chelyabinsk, Russia<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-immerser-layer</span> <span class="token attr-name">data-immerser-layer-config</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>{"logo": "logo--contrast", "pager": "pager--contrast", "social": "social--contrast"}<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>reasoning<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-immerser-layer</span> <span class="token attr-name">data-immerser-layer-config</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>{"menu": "menu--contrast", "about": "about--contrast"}<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>how-to-use<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-immerser-layer</span> <span class="token attr-name">data-immerser-layer-config</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>{"logo": "logo--contrast", "pager": "pager--contrast", "social": "social--contrast"}<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>how-it-works<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-immerser-layer</span> <span class="token attr-name">data-immerser-layer-config</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>{"menu": "menu--contrast", "about": "about--contrast"}<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>options<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-immerser-layer</span> <span class="token attr-name">data-immerser-layer-config</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>{"logo": "logo--contrast", "pager": "pager--contrast", "social": "social--contrast"}<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>possibilities<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>  </div> </div> </div> <div class="grid"> <div class="grid__col grid__col--beta"> <div class="grid__content typography"> <h1>Apply styles</h1><p> Apply color and background styles to&nbsp;your layers and solids according to&nbsp;your classname configuration passed in&nbsp;data attribute or&nbsp;options. </p> </div> </div> <div class="grid__col grid__col--gamma background--contrast scroller-x"> <div class="as-if-title" aria-hidden="true"></div> <div class="grid__content code-highlight code-highlight--contrast"> <pre><code class="language-css"><span class="token selector">.fixed</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 2em<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 3em<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 3em<span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span> 3em<span class="token punctuation">;</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.fixed__pager</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> -50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.fixed__logo</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.fixed__menu</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.fixed__about</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.logo,
.pager,
.menu,
.about</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.logo--contrast,
.pager--contrast,
.menu--contrast,
.about--contrast</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>  </div> </div> </div> <div class="grid"> <div class="grid__col grid__col--beta end"> <div class="grid__content typography"> <h1>Initialize Immerser</h1><p>Include immerser in&nbsp;your code and create immerser instance with options.</p> </div> </div> <div class="grid__col grid__col--gamma end background--contrast scroller-x"> <div class="as-if-title" aria-hidden="true"></div> <div class="grid__content code-highlight code-highlight--contrast"> <pre><code class="language-javascript"><span class="token keyword">import</span> Immerser <span class="token keyword">from</span> <span class="token string">'../immerser.js'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> immerserInstance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Immerser</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  hasToUpdateHash<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token function">onInit</span><span class="token punctuation">(</span><span class="token parameter">immerser</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// callback on init</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">onBind</span><span class="token punctuation">(</span><span class="token parameter">immerser</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// callback on bind</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">onUnbind</span><span class="token punctuation">(</span><span class="token parameter">immerser</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// callback on unbind</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token parameter">immerser</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// callback on destroy</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">onActiveLayerChange</span><span class="token punctuation">(</span><span class="token parameter">activeIndex<span class="token punctuation">,</span> immerser</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// callback on active layer change</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>  </div> </div> </div> </div> </div> <div id="how-it-works" class="grid" data-immerser-layer="" data-immerser-layer-config="{&quot;logo&quot;: &quot;logo--contrast-lg&quot;, &quot;pager&quot;: &quot;pager--contrast-lg&quot;, &quot;social&quot;: &quot;social--contrast-lg&quot;}"> <div class="grid__col grid__col--alpha background--contrast"></div> <div class="tall start end grid__col grid__col--beta"> <div class="grid__content typography"> <h1>How it&nbsp;Works?</h1><p>First, immerser gathers information about the layers, solids, window and document.</p><p> Then it&nbsp;creates a&nbsp;statemap for each layer, containing all necessary information, when the layer is&nbsp;partially and fully in&nbsp;viewport. </p><p> After that immerser modifies DOM, cloning all solids into mask containers for each layer and appling the classnames given in&nbsp;configuration. If&nbsp;you have added a&nbsp;pager, immerser also creates links for layers. </p><p> Finally, immerser binds listeners to&nbsp;scroll and resize events. On&nbsp;resize, it&nbsp;will meter layers, the window and document heights again and recalculate the statemap. On&nbsp;scroll, immerser moves a&nbsp;mask of&nbsp;solids to&nbsp;show part of&nbsp;each solid group according to&nbsp;the layer below. </p> </div> </div> <div class="grid__col grid__col--gamma"></div> </div> <div id="options" class="grid" data-immerser-layer="" data-immerser-layer-config="{&quot;logo&quot;: &quot;logo--contrast-only-md&quot;, &quot;pager&quot;: &quot;pager--contrast-only-md&quot;, &quot;social&quot;: &quot;social--contrast-only-md&quot;, &quot;menu&quot;: &quot;menu--contrast&quot;, &quot;about&quot;: &quot;about--contrast&quot;}"> <div class="grid__col grid__col--alpha"></div> <div class="grid__col grid__col--beta-gamma tall start end background--contrast scroller-x"> <div class="grid"> <div class="grid__col grid__col--beta"> <div class="grid__content typography"> <h1>Options</h1><p> You can pass options to immerser as data-attributes on layers or as object as function parameter. Data-attributes are processed last, so they override the options passed to the function. </p> </div> </div> <div class="grid__col grid__col--gamma"></div> </div> <div class="grid"> <div class="grid__col grid__col--beta-gamma"> <div class="grid__content typography code-highlight code-highlight--contrast code-highlight--inline"> <table> <thead> <tr> <th class="token property">option</th> <th class="token property">type</th> <th class="token property">default</th> <th class="token property">description</th> </tr> </thead> <tbody> <tr> <td>solidClassnameArray</td> <td class="token keyword">array</td> <td class="token punctuation">[]</td> <td> Array of layer class configurations. Overrides config passed in data-immerser-layer-config for corresponding layer </td> </tr> <tr> <td>fromViewportWidth</td> <td class="token keyword">number</td> <td class="token number">1024</td> <td>A viewport width, from which immerser will init</td> </tr> <tr> <td>pagerTreshold</td> <td class="token keyword">number</td> <td class="token number">0.5</td> <td>How much next layer should be in viewport to trigger pager</td> </tr> <tr> <td>hasToUpdateHash</td> <td class="token keyword">boolean</td> <td class="token boolean">false</td> <td>Flag to controll changing hash on pager active state change</td> </tr> <tr> <td>classnamePager</td> <td class="token keyword">string</td> <td class="token string">'pager'</td> <td>Classname for pager. Style it on your own.</td> </tr> <tr> <td>classnamePagerLink</td> <td class="token keyword">string</td> <td class="token string">'pager__link'</td> <td>Classname for pager link. Style it on your own.</td> </tr> <tr> <td>classnamePagerLinkActive</td> <td class="token keyword">string</td> <td class="token string nowrap">'pager__link--active'</td> <td>Classname for active pager link. Style it on your own.</td> </tr> <tr> <td>onInit</td> <td class="token keyword">function</td> <td class="token keyword">null</td> <td> Fired after initialization. Accept an immerser instance as the only parameter. </td> </tr> <tr> <td>onBind</td> <td class="token keyword">function</td> <td class="token keyword">null</td> <td> Fired after binding DOM. Accept an immerser instance as the only parameter. </td> </tr> <tr> <td>onUnbind</td> <td class="token keyword">function</td> <td class="token keyword">null</td> <td> Fired after unbinding DOM. Accept an immerser instance as the only parameter. </td> </tr> <tr> <td>onDestroy</td> <td class="token keyword">function</td> <td class="token keyword">null</td> <td> Fired after destroy. Accept an immerser instance as the only parameter. </td> </tr> <tr> <td>onActiveLayerChange</td> <td class="token keyword">function</td> <td class="token keyword">null</td> <td> Fired after active layer change. Accept active layer index as first parameter and an immerser instance as second. </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div id="possibilities" class="grid" data-immerser-layer="" data-immerser-layer-config="{&quot;logo&quot;: &quot;logo--contrast-lg&quot;, &quot;pager&quot;: &quot;pager--contrast-lg&quot;, &quot;social&quot;: &quot;social--contrast-lg&quot;}"> <div class="grid__col grid__col--alpha background--contrast"></div> <div class="grid__col grid__col--beta-gamma tall start end"> <div class="grid"> <div class="grid__col grid__col--beta"> <div class="grid__content typography"> <h1>Custom Markup</h1><p> Since immerser cloning nested nodes by&nbsp;default, all event listeners and data bound on&nbsp;nodes will be lost after init. Fortunatelly, you can markup the&nbsp;immmerser yourself. It&nbsp;can be&nbsp;useful when you have event listeners on&nbsp;solids, reactive logic or&nbsp;more than classname switching. All you need is&nbsp;to&nbsp;place the number of&nbsp;nested immerser masks equal to&nbsp;the number of&nbsp;the layers. Look how I change the smily emoji on&nbsp;the right in&nbsp;this page source. </p> </div> </div> <div class="grid__col grid__col--gamma code-background background scroller-x"> <div class="as-if-title" aria-hidden="true"></div> <div class="grid__content code-highlight"> <pre><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fixed<span class="token punctuation">"</span></span> <span class="token attr-name">data-immerser</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-immerser-mask</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-immerser-mask-inner</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- your markup --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-immerser-mask</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-immerser-mask-inner</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- your markup --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre>  </div> </div> </div> <div class="grid"> <div class="grid__col grid__col--beta"> <div class="grid__content typography"> <h1>Hover Synchronizing</h1><p> As&nbsp;mentioned above, immerser cloning nested nodes to&nbsp;achieve changing on&nbsp;scroll. Therefore if&nbsp;you hover a&nbsp;partially visible element, only the&nbsp;visible part will recolor. If&nbsp;you want to&nbsp;synchronize&nbsp;it, just pass <code>data-immerser-synchro-hover="hoverId"</code> attribute. It&nbsp;will share <code>_hover</code> class between all nodes with this <code>hoverId</code> when the mouse is&nbsp;over one of&nbsp;them. Add <code>_hover</code> selector alongside your <code>:hover</code> pseudoselector to&nbsp;style your interactive elements. </p> </div> </div> <div class="grid__col grid__col--gamma code-background background scroller-x"> <div class="as-if-title" aria-hidden="true"></div> <div class="grid__content code-highlight"> <pre><code class="language-css"><span class="token selector">a:hover,
a._hover</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> magenta<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>  </div> </div> </div> </div> </div> <footer class="footer"> <div class="social"> <a href="https://github.com/dubaua/immerser">github</a> <a href="mailto:dubaua@gmail.com">dubaua@gmail.com</a> </div> <div class="about">© 2019 — Vladimir Lysov, Chelyabinsk, Russia</div> </footer> <script src="main.1f19ae8e.js"></script> </body></html>