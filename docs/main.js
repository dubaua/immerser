(()=>{var e={602:function(e,t,r){var o,n,i,a;function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}e=r.nmd(e),a=function(){return function(){"use strict";var e={819:function(e){function t(e){var t=function(e){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:t+""}e.exports=function(){function e(e){this.callbacks=[],this.internal=e,this.initialValue=e}var r,o,n=e.prototype;return n.subscribe=function(e){var t=this;if("function"!=typeof e)throw new TypeError("[createObservable]: expected callback to be a function.");return this.callbacks.push(e),function(){var r=t.callbacks.indexOf(e);t.callbacks=t.callbacks.slice(0,r).concat(t.callbacks.slice(r+1))}},n.reset=function(){this.callbacks=[],this.internal=this.initialValue},r=e,(o=[{key:"value",get:function(){return this.internal},set:function(e){if(e!==this.internal){var t=this.internal;this.internal=e;for(var r=0;r<this.callbacks.length;r++)this.callbacks[r](this.internal,t)}}}])&&function(e,r){for(var o=0;o<r.length;o++){var n=r[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t(n.key),n)}}(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r}()},961:function(e){function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function r(e){return null!==e&&"object"==s(e)&&!1===Array.isArray(e)}function o(e){var r=e.optionConfig,o=e.userOptions,n=void 0===o?{}:o,i=e.prefix,a=void 0===i?"":i,l=e.suffix,u=void 0===l?"":l,c=e.strict,d=void 0===c||c,h=function(e){return[a,e,u].join(" ")},f={};for(var y in r)if(t(r,y)){var p=r[y],m=p.required,v=p.default,g=p.description,b=p.validator,_=n[y],w=!!t(p,"required")&&("function"==typeof m?m(n):m),k=t(n,y),S=b(_,n);if(w){if(!k)throw new TypeError(h(y+" is required."));if(!S)throw new TypeError(h("Expected "+y+" to be "+g+", got "+s(_)+" "+_+"."));f[y]=_}else if(f[y]=v,k)if(S)f[y]=_;else{if(d)throw new TypeError(h("Expected "+y+" to be "+g+", got "+s(_)+" "+_+"."));console.warn(h("Expected "+y+" to be "+g+", got "+s(_)+" "+_+". Fallback to default value "+v+"."))}}return f}var n="[mergeOptions]:",i="\nCheck out documentation https://github.com/dubaua/merge-options#parameters-and-return";function a(e){throw new TypeError([n,e,i].join(" "))}var l={optionConfig:{required:!0,validator:function(e){for(var o in e)if(t(e,o)){var n=e[o];if(r(n)||a("Expected optionConfig."+o+" to be an object with declarative option configuration, got "+s(n)+" "+n+"."),t(n,"required")){var i=n.required,l=s(i);"boolean"!==l&&"function"!==l&&a("Expected optionConfig."+o+".required to be either boolean or function, got "+s(i)+" "+i+".")}else t(n,"default")||a("Expected optionConfig."+o+" to either have required or default value.");if(t(n,"default")||t(n,"required")||a("Expected optionConfig."+o+" to either have required or default value."),t(n,"description")){var u=n.description;"string"!=typeof n.description&&a("Expected optionConfig."+o+".description to be a string, got "+s(u)+" "+u+".")}else a("Missing description on optionConfig."+o+" config.");if(t(n,"validator")){var c=n.validator;"function"!=typeof n.validator&&a("Expected optionConfig."+o+".validator to be a function, got "+s(c)+" "+c+".")}else a("Missing validator on optionConfig."+o+" config.")}return r(e)},description:"an object with declarative option configuration"},userOptions:{required:!1,default:{},validator:r,description:"an object"},prefix:{required:!1,default:"",validator:function(e){return"string"==typeof e},description:"a string"},suffix:{required:!1,default:"",validator:function(e){return"string"==typeof e},description:"a string"},strict:{required:!1,default:!0,validator:function(e){return"boolean"==typeof e},description:"a boolean"}};e.exports=function(e){var t=o({optionConfig:l,userOptions:e,prefix:n,suffix:i});return o(t)}}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,r),i.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var o={};r.d(o,{default:function(){return Immerser}});var n=r(961),i=r.n(n),a=r(819),l=r.n(a);function u(e){return u="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)},u(e)}var c=/^[a-z_-][a-z\d_-]*$/i,d=!1,h=["init","bind","unbind","destroy","activeLayerChange","layersUpdate"],f={solidClassnameArray:{default:[],description:"non empty array of objects",validator:function(e){return Array.isArray(e)&&0!==e.length}},fromViewportWidth:{default:0,description:"a natural number",validator:function(e){return"number"==typeof e&&0<=e&&e%1==0}},pagerThreshold:{default:.5,description:"a number between 0 and 1",validator:function(e){return"number"==typeof e&&0<=e&&e<=1}},hasToUpdateHash:{default:!1,description:"a boolean",validator:function(e){return"boolean"==typeof e}},scrollAdjustThreshold:{default:0,description:"a number greater than or equal to 0",validator:function(e){return"number"==typeof e&&e>=0}},scrollAdjustDelay:{default:600,description:"a number greater than or equal to 300",validator:function(e){return"number"==typeof e&&e>=300}},pagerLinkActiveClassname:{default:"pager-link-active",description:"valid non empty classname string",validator:function(e){return"string"==typeof e&&""!==e&&c.test(e)}},isScrollHandled:{default:!0,description:"a boolean",validator:function(e){return"boolean"==typeof e}},debug:{default:d,description:"a boolean",validator:function(e){return"boolean"==typeof e}},on:{default:{},description:"an object containing event handlers",validator:function(e){return void 0===e||!(!e||"object"!==u(e)||Array.isArray(e))&&Object.keys(e).every(function(t){return h.includes(t)&&void 0!==e[t]&&"function"==typeof e[t]})}}},y="[immerser:]",p={position:"absolute",top:"0",right:"0",bottom:"0",left:"0",overflow:"hidden"},m={pointerEvents:"none",touchAction:"none"},v={pointerEvents:"all",touchAction:"auto"};function g(e,t){for(var r in t)e.style[r]=t[r]}function b(e){var t=e.selector,r=e.parent,o=void 0===r?document:r;if(!o)return[];var n=o.querySelectorAll(t);return Array.from(n)}function _(e,t,r){return Math.max(Math.min(e,r),t)}function w(){var e=window.scrollX||document.documentElement.scrollLeft,t=window.scrollY||document.documentElement.scrollTop;return{x:_(e,0,document.documentElement.offsetWidth),y:_(t,0,document.documentElement.offsetHeight)}}function k(e){return k="function"==typeof Symbol&&"symbol"==s(Symbol.iterator)?function(e){return s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":s(e)},k(e)}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach(function(t){O(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function C(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,E(o.key),o)}}function O(e,t,r){return(t=E(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e){var t=function(e){if("object"!=k(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==k(t)?t:t+""}var Immerser=function(){return e=function Immerser(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Immerser),O(this,"_options",{}),O(this,"_selectors",{root:"[data-immerser]",layer:"[data-immerser-layer]",solid:"[data-immerser-solid]",pagerLink:"[data-immerser-pager-link]",mask:"[data-immerser-mask]",maskInner:"[data-immerser-mask-inner]",synchroHover:"[data-immerser-synchro-hover]"}),O(this,"_layerStateArray",[]),O(this,"_layerStateIndexById",{}),O(this,"_isBound",!1),O(this,"_rootNode",null),O(this,"_layerNodeArray",[]),O(this,"_solidNodeArray",[]),O(this,"_pagerLinkNodeArray",[]),O(this,"_originalSolidNodeArray",[]),O(this,"_maskNodeArray",[]),O(this,"_synchroHoverNodeArray",[]),O(this,"_isCustomMarkup",!1),O(this,"_customMaskNodeArray",[]),O(this,"_windowHeight",0),O(this,"_immerserTop",0),O(this,"_immerserHeight",0),O(this,"_resizeFrameId",null),O(this,"_resizeObserver",null),O(this,"_scrollFrameId",null),O(this,"_scrollAdjustTimerId",null),O(this,"_reactiveActiveLayer",new(l())(-1)),O(this,"_reactiveWindowWidth",new(l())(-1)),O(this,"_reactiveSynchroHoverId",new(l())(null)),O(this,"_layerProgressArray",[]),O(this,"_unsubscribeRedrawingPager",null),O(this,"_unsubscribeUpdatingHash",null),O(this,"_unsubscribeActiveLayerChange",null),O(this,"_unsubscribeSynchroHover",null),O(this,"_unsubscribeToggleBindOnResize",null),O(this,"_handlers",{init:new Set,bind:new Set,unbind:new Set,destroy:new Set,activeLayerChange:new Set,layersUpdate:new Set}),O(this,"_onResize",null),O(this,"_onScroll",null),O(this,"_onSynchroHoverMouseOver",null),O(this,"_onSynchroHoverMouseOut",null),O(this,"debug",d),this._init(e)},t=[{key:"_init",value:function(e){this._mergeOptions(e),this.debug=this._options.debug,this._setDomNodes(),this._validateMarkup(),this._registerHandlersFromOptions(),this._readClassnamesFromMarkup(),this._validateSolidClassnameArray(),this._initSectionIds(),this._initLayerStateArray(),this._validateClassnames(),this._toggleBindOnResizeObserver(),this._setSizes(),this._addScrollAndResizeListeners(),this._emit("init",this)}},{key:"_registerHandlersFromOptions",value:function(){var e=this;this._options.on&&h.forEach(function(t){var r,o=null===(r=e._options.on)||void 0===r?void 0:r[t];"function"==typeof o&&e.on(t,o)})}},{key:"_emit",value:function(e){for(var t=this,r=arguments.length,o=new Array(r>1?r-1:0),n=1;n<r;n++)o[n-1]=arguments[n];this._handlers[e].forEach(function(r){try{r.apply(void 0,o)}catch(r){t._report({message:"handler for ".concat(e," event failed"),error:r,docsHash:"#events"})}})}},{key:"_report",value:function(e){var t=e.message,r=e.error,o=e.isWarning,n=void 0!==o&&o,i=e.docsHash,a=void 0===i?"":i,s="".concat(y," ").concat(t," \nCheck out documentation https://github.com/dubaua/immerser").concat(a);if(!n)throw new Error(s,{cause:r});this.debug&&(void 0!==r?console.warn(s,r):console.warn(s))}},{key:"_setDomNodes",value:function(){this._rootNode=document.querySelector(this._selectors.root),this._layerNodeArray=b({selector:this._selectors.layer}),this._solidNodeArray=b({selector:this._selectors.solid,parent:this._rootNode})}},{key:"_validateMarkup",value:function(){this._rootNode||this._report({message:"root node not found.",docsHash:"#prepare-your-markup"}),0===this._layerNodeArray.length&&this._report({message:"layer nodes not found.",docsHash:"#prepare-your-markup"}),0===this._solidNodeArray.length&&this._report({message:"solid nodes not found.",docsHash:"#prepare-your-markup"})}},{key:"_mergeOptions",value:function(e){this._options=i()({optionConfig:f,userOptions:e,prefix:y,suffix:"\nCheck out documentation https://github.com/dubaua/immerser#options"})}},{key:"_readClassnamesFromMarkup",value:function(){var e=this;this._layerNodeArray.forEach(function(t,r){if(t.dataset.immerserLayerConfig)try{e._options.solidClassnameArray[r]=JSON.parse(t.dataset.immerserLayerConfig)}catch(t){e._report({message:"Failed to parse JSON classname configuration.",error:t,docsHash:"#options"})}})}},{key:"_validateSolidClassnameArray",value:function(){var e=this._layerNodeArray.length;this._options.solidClassnameArray.length!==e&&this._report({message:"solidClassnameArray length differs from count of layers",docsHash:"#options"})}},{key:"_initSectionIds",value:function(){var e=this;this._layerNodeArray.forEach(function(t,r){var o=t.id;o||(o="immerser-section-".concat(r),t.id=o,t.__immerserCustomId=!0),e._layerStateIndexById[o]=r})}},{key:"_initLayerStateArray",value:function(){var e=this;this._layerStateArray=this._layerNodeArray.map(function(t,r){var o=e._options.solidClassnameArray[r];return{beginEnter:0,beginLeave:0,endEnter:0,endLeave:0,id:t.id,layerBottom:0,layerTop:0,maskInnerNode:null,maskNode:null,layerNode:t,solidClassnames:o}}),this._layerProgressArray=this._layerNodeArray.map(function(){return 0})}},{key:"_validateClassnames",value:function(){this._layerStateArray.every(function(e){return!(t=e.solidClassnames)||0===Object.keys(t).length&&t.constructor===Object;var t})&&this._report({message:"immerser will do nothing without solid classname configuration.",docsHash:"#prepare-your-markup",isWarning:!0})}},{key:"_toggleBindOnResizeObserver",value:function(){var e=this;this._unsubscribeToggleBindOnResize=this._reactiveWindowWidth.subscribe(function(t){t>=e._options.fromViewportWidth?e._isBound||e.bind():e._isBound&&e.unbind()})}},{key:"_setSizes",value:function(){var e=this;this._windowHeight=window.innerHeight,this._immerserTop=this._rootNode.offsetTop,this._immerserHeight=this._rootNode.offsetHeight,this._layerStateArray=this._layerStateArray.map(function(t){var r=t.layerNode.offsetTop,o=r+t.layerNode.offsetHeight,n=r-e._immerserTop,i=n-e._immerserHeight,a=o-e._immerserTop,s=a-e._immerserHeight;return A(A({},t),{},{layerTop:r,layerBottom:o,beginEnter:i,endEnter:n,beginLeave:s,endLeave:a})}),this._reactiveWindowWidth.value=window.innerWidth}},{key:"_addScrollAndResizeListeners",value:function(){this._options.isScrollHandled&&(this._onScroll=this._handleScroll.bind(this),window.addEventListener("scroll",this._onScroll,!1)),this._onResize=this._handleResize.bind(this),window.addEventListener("resize",this._onResize,!1),window.addEventListener("orientationchange",this._onResize,!1),"undefined"!=typeof ResizeObserver&&(this._resizeObserver=new ResizeObserver(this._onResize),this._resizeObserver.observe(this._rootNode))}},{key:"_resetInternalState",value:function(){var e=this;this._layerStateArray=[],this._layerStateIndexById={},this._isBound=!1,this._rootNode=null,this._layerNodeArray=[],this._solidNodeArray=[],this._pagerLinkNodeArray=[],this._originalSolidNodeArray=[],this._maskNodeArray=[],this._synchroHoverNodeArray=[],this._isCustomMarkup=!1,this._customMaskNodeArray=[],this._windowHeight=0,this._immerserTop=0,this._immerserHeight=0,this._resizeFrameId=null,this._resizeObserver=null,this._scrollFrameId=null,this._scrollAdjustTimerId=null,this._reactiveActiveLayer.reset(),this._reactiveWindowWidth.reset(),this._reactiveSynchroHoverId.reset(),this._layerProgressArray=[],this._unsubscribeRedrawingPager=null,this._unsubscribeUpdatingHash=null,this._unsubscribeActiveLayerChange=null,this._unsubscribeSynchroHover=null,this._unsubscribeToggleBindOnResize=null,this._onResize=null,this._onScroll=null,this._onSynchroHoverMouseOver=null,this._onSynchroHoverMouseOut=null,h.forEach(function(t){return e._handlers[t].clear()})}},{key:"_createMarkup",value:function(){var e=this;g(this._rootNode,m),this._initCustomMarkup(),this._originalSolidNodeArray=b({selector:this._selectors.solid,parent:this._rootNode}),this._layerStateArray=this._layerStateArray.map(function(t,r){var o=e._isCustomMarkup?e._customMaskNodeArray[r]:document.createElement("div");g(o,p);var n=e._isCustomMarkup?o.querySelector(e._selectors.maskInner):document.createElement("div");return n||(n=document.createElement("div")),g(n,p),e._isCustomMarkup||(o.dataset.immerserMask="",n.dataset.immerserMaskInner=""),e._originalSolidNodeArray.forEach(function(e){var t=e.cloneNode(!0);t instanceof HTMLElement&&(g(t,v),t.__immerserCloned=!0,n.appendChild(t))}),function(e,t){for(var r=0;r<e.length;r++)t(e[r])}(b({selector:e._selectors.solid,parent:n}),function(e){var r=e.dataset.immerserSolid;t.solidClassnames&&Object.prototype.hasOwnProperty.call(t.solidClassnames,r)&&e.classList.add(t.solidClassnames[r])}),0!==r&&o.setAttribute("aria-hidden","true"),o.appendChild(n),e._rootNode.appendChild(o),e._maskNodeArray.push(o),A(A({},t),{},{maskNode:o,maskInnerNode:n})}),this._detachOriginalSolidNodes()}},{key:"_initCustomMarkup",value:function(){var e=this;this._customMaskNodeArray=b({selector:this._selectors.mask,parent:this._rootNode}),this._isCustomMarkup=this._customMaskNodeArray.length===this._layerStateArray.length,this._customMaskNodeArray.length>0&&!this._isCustomMarkup&&this._report({message:"You're trying use custom markup, but count of your immerser masks doesn't equal layers count.",isWarning:!0,docsHash:"#cloning-event-listeners"}),this._customMaskNodeArray.forEach(function(t){var r=t.querySelector(e._selectors.maskInner);r&&Array.from(r.children).forEach(function(e){e instanceof HTMLElement&&g(e,v)})})}},{key:"_detachOriginalSolidNodes",value:function(){var e=this;this._rootNode&&this._originalSolidNodeArray.forEach(function(t){e._rootNode.removeChild(t)})}},{key:"_initPagerLinks",value:function(){var e=this;this._pagerLinkNodeArray=b({selector:this._selectors.pagerLink,parent:this._rootNode}),this._pagerLinkNodeArray.forEach(function(t){var r=t.href;if(r){var o=r.split("#")[1];if(o){var n=e._layerStateIndexById[o];t.dataset.immerserLayerIndex=n.toString()}}})}},{key:"_initHoverSynchro",value:function(){var e=this;this._synchroHoverNodeArray=b({selector:this._selectors.synchroHover,parent:this._rootNode}),this._onSynchroHoverMouseOver=function(t){var r=t.target.dataset.immerserSynchroHover;e._reactiveSynchroHoverId.value=r},this._onSynchroHoverMouseOut=function(){e._reactiveSynchroHoverId.value=null},this._synchroHoverNodeArray.forEach(function(t){t.addEventListener("mouseover",e._onSynchroHoverMouseOver),t.addEventListener("mouseout",e._onSynchroHoverMouseOut)})}},{key:"_attachCallbacks",value:function(){var e=this;this._pagerLinkNodeArray.length>0&&(this._unsubscribeRedrawingPager=this._reactiveActiveLayer.subscribe(this._drawPagerLinks.bind(this))),this._options.hasToUpdateHash&&(this._unsubscribeUpdatingHash=this._reactiveActiveLayer.subscribe(this._drawHash.bind(this))),this._unsubscribeActiveLayerChange=this._reactiveActiveLayer.subscribe(function(t){e._emit("activeLayerChange",t,e)}),this._synchroHoverNodeArray.length>0&&(this._unsubscribeSynchroHover=this._reactiveSynchroHoverId.subscribe(this._drawSynchroHover.bind(this)))}},{key:"_detachCallbacks",value:function(){var e,t,r,o;null===(e=this._unsubscribeRedrawingPager)||void 0===e||e.call(this),null===(t=this._unsubscribeUpdatingHash)||void 0===t||t.call(this),null===(r=this._unsubscribeActiveLayerChange)||void 0===r||r.call(this),null===(o=this._unsubscribeSynchroHover)||void 0===o||o.call(this)}},{key:"_removeSyncroHoverListeners",value:function(){var e=this;this._synchroHoverNodeArray.forEach(function(t){t.removeEventListener("mouseover",e._onSynchroHoverMouseOver),t.removeEventListener("mouseout",e._onSynchroHoverMouseOut)})}},{key:"_clearCustomSectionIds",value:function(){this._layerStateArray.forEach(function(e){e.layerNode.__immerserCustomId&&e.layerNode.removeAttribute("id")})}},{key:"_restoreOriginalSolidNodes",value:function(){var e=this;this._rootNode&&this._originalSolidNodeArray.forEach(function(t){e._rootNode.appendChild(t)})}},{key:"_cleanupClonedMarkup",value:function(){var e=this;this._maskNodeArray.forEach(function(t){if(e._isCustomMarkup){t.removeAttribute("style"),t.removeAttribute("aria-hidden");var r=t.querySelector(e._selectors.maskInner);if(!r)return;r.removeAttribute("style"),b({selector:e._selectors.solid,parent:r}).forEach(function(e){e.__immerserCloned&&r.removeChild(e)})}else e._rootNode&&e._rootNode.removeChild(t)})}},{key:"_removeScrollAndResizeListeners",value:function(){var e;this._options.isScrollHandled&&window.removeEventListener("scroll",this._onScroll,!1),window.removeEventListener("resize",this._onResize,!1),window.removeEventListener("orientationchange",this._onResize,!1),null===(e=this._resizeObserver)||void 0===e||e.disconnect()}},{key:"_setLayersProgress",value:function(e){var t=this,r=null!=e?e:w().y,o=r+this._windowHeight;this._layerProgressArray=this._layerStateArray.map(function(e){var n=e.layerTop,i=e.layerBottom,a=i-n,s=Math.min(i,o)-Math.max(n,r),l=Math.min(a,t._windowHeight);return l<=0?0:Math.max(0,Math.min(1,s/l))})}},{key:"_draw",value:function(e){var t=this,r=void 0!==e?e:w().y;this._layerStateArray.forEach(function(e,o){var n,i=e.beginEnter,a=e.endEnter,s=e.beginLeave,l=e.endLeave,u=e.maskNode,c=e.maskInnerNode,d=e.layerTop,h=e.layerBottom;n=i>r?t._immerserHeight:i<=r&&r<a?a-r:a<=r&&r<s?0:s<=r&&r<l?s-r:-t._immerserHeight,u.style.transform="translateY(".concat(n,"px)"),c.style.transform="translateY(".concat(-n,"px)");var f=r+t._windowHeight*(1-t._options.pagerThreshold);d<=f&&f<h&&(t._reactiveActiveLayer.value=o)})}},{key:"_drawPagerLinks",value:function(e){var t=this;this._pagerLinkNodeArray.forEach(function(r){parseInt(r.dataset.immerserLayerIndex,10)===e?r.classList.add(t._options.pagerLinkActiveClassname):r.classList.remove(t._options.pagerLinkActiveClassname)})}},{key:"_drawHash",value:function(e){var t=this._layerStateArray[e],r=t.id,o=t.layerNode;o.removeAttribute("id"),window.location.hash=r,o.setAttribute("id",r)}},{key:"_drawSynchroHover",value:function(e){this._synchroHoverNodeArray.forEach(function(t){t.dataset.immerserSynchroHover===e?t.classList.add("_hover"):t.classList.remove("_hover")})}},{key:"_adjustScroll",value:function(){var e=this._layerStateArray[this._reactiveActiveLayer.value],t=e.layerTop,r=e.layerBottom,o=w(),n=o.x,i=o.y,a=Math.abs(i-t),s=Math.abs(i+this._windowHeight-r);0!==a&&0!==s&&(a<=s&&a<=this._options.scrollAdjustThreshold?window.scrollTo(n,t):s<=a&&s<=this._options.scrollAdjustThreshold&&window.scrollTo(n,r-this._windowHeight))}},{key:"_handleScroll",value:function(){var e=this;this._isBound&&(this._scrollFrameId&&(window.cancelAnimationFrame(this._scrollFrameId),this._scrollFrameId=null),this._scrollFrameId=window.requestAnimationFrame(function(){var t=w().y;e._setLayersProgress(t),e._emit("layersUpdate",e._layerProgressArray,e),e._draw(t),e._options.scrollAdjustThreshold>0&&(e._scrollAdjustTimerId&&(clearTimeout(e._scrollAdjustTimerId),e._scrollAdjustTimerId=null),e._scrollAdjustTimerId=setTimeout(e._adjustScroll.bind(e),e._options.scrollAdjustDelay))}))}},{key:"_handleResize",value:function(){var e=this;this._resizeFrameId&&(window.cancelAnimationFrame(this._resizeFrameId),this._resizeFrameId=null),this._resizeFrameId=window.requestAnimationFrame(function(){e.render()})}},{key:"bind",value:function(){this._createMarkup(),this._initPagerLinks(),this._initHoverSynchro(),this._attachCallbacks(),this._isBound=!0,this._setLayersProgress(),this._draw(),this._emit("bind",this)}},{key:"unbind",value:function(){this._detachCallbacks(),this._removeSyncroHoverListeners(),this._clearCustomSectionIds(),this._restoreOriginalSolidNodes(),this._cleanupClonedMarkup(),this._isBound=!1,this._emit("unbind",this),this._reactiveActiveLayer.value=void 0}},{key:"destroy",value:function(){var e;this.unbind(),null===(e=this._unsubscribeToggleBindOnResize)||void 0===e||e.call(this),this._removeScrollAndResizeListeners(),this._emit("destroy",this),this._resetInternalState()}},{key:"render",value:function(){this._setSizes(),this._setLayersProgress(),this._draw()}},{key:"syncScroll",value:function(){this._options.isScrollHandled?this._report({message:"syncScroll requires the isScrollHandled flag set to false. Call ignored.",isWarning:!0,docsHash:"#external-scroll-engine"}):(this._setLayersProgress(),this._draw())}},{key:"on",value:function(e,t){this._handlers[e].add(t)}},{key:"once",value:function(e,t){var r,o,n=this;this._handlers[e].add((r=function(){n.off(e,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t.apply(void 0,o)},(o=r).__immerserOriginalHandler=t,o))}},{key:"off",value:function(e,t){var r=this._handlers[e];r.forEach(function(e){var o=function(e){return e.__immerserOriginalHandler}(e);e!==t&&o!==t||r.delete(e)})}},{key:"activeIndex",get:function(){return this._reactiveActiveLayer.value}},{key:"isBound",get:function(){return this._isBound}},{key:"rootNode",get:function(){return this._rootNode}},{key:"layerProgressArray",get:function(){return this._layerProgressArray}}],t&&C(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();return o.default}()},"object"==s(t)&&"object"==s(e)?e.exports=a():(n=[],void 0===(i="function"==typeof(o=a)?o.apply(t,n):o)||(e.exports=i))},819:e=>{"use strict";function t(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}e.exports=function(){function e(e){this.callbacks=[],this.internal=e,this.initialValue=e}var r,o,n=e.prototype;return n.subscribe=function(e){var t=this;if("function"!=typeof e)throw new TypeError("[createObservable]: expected callback to be a function.");return this.callbacks.push(e),function(){var r=t.callbacks.indexOf(e);t.callbacks=t.callbacks.slice(0,r).concat(t.callbacks.slice(r+1))}},n.reset=function(){this.callbacks=[],this.internal=this.initialValue},r=e,(o=[{key:"value",get:function(){return this.internal},set:function(e){if(e!==this.internal){var t=this.internal;this.internal=e;for(var r=0;r<this.callbacks.length;r++)this.callbacks[r](this.internal,t)}}}])&&function(e,r){for(var o=0;o<r.length;o++){var n=r[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t(n.key),n)}}(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r}()},884:function(e){var t;t=()=>(()=>{"use strict";var e={51(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ANIMATE_OPTION_CONFIG=void 0,t.ANIMATE_OPTION_CONFIG={duration:{required:!0,validator:e=>"number"==typeof e&&e>0,description:"a positive number of milliseconds"},delay:{required:!1,default:0,validator:e=>"number"==typeof e&&e>=0,description:"a non-negative number of milliseconds"},draw:{required:!0,validator:e=>"function"==typeof e,description:"a function"},onComplete:{required:!1,default:void 0,validator:e=>"function"==typeof e||void 0===e,description:"a function"},onCancel:{required:!1,default:void 0,validator:e=>"function"==typeof e||void 0===e,description:"a function"},autoStart:{required:!1,default:!0,validator:e=>"boolean"==typeof e,description:"a boolean"}}},320(e,t,r){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Directions=t.Ogawa=void 0;const n=o(r(961)),i=o(r(819)),a=r(732);Object.defineProperty(t,"Directions",{enumerable:!0,get:function(){return a.Directions}});const s=r(51);t.Ogawa=class{options;lastTimestamp=performance.now();progress=0;delayBuffer=0;requestId=null;_isRunning=new i.default(!1);direction=a.Directions.Forward;_isComplete=!1;constructor(e){this.options=(0,n.default)({optionConfig:s.ANIMATE_OPTION_CONFIG,userOptions:e,prefix:"[animate]:"}),this._isRunning.subscribe(this.onIsRunningChange),this.options.autoStart&&this.run()}run(){return this.direction=a.Directions.Forward,this._isRunning.value=!0,this}runReverse(){return this.direction=a.Directions.Backward,this._isRunning.value=!0,this}reset(){return this.progress=0,this.delayBuffer=0,this._isRunning.value=!1,null!==this.requestId&&(window.cancelAnimationFrame(this.requestId),this.requestId=null),this.options.draw(this.progress),this}pause(){return this._isRunning.value=!1,this}destroy(){return null!==this.requestId&&(window.cancelAnimationFrame(this.requestId),this.requestId=null),this._isRunning.reset(),this}get isComplete(){return this._isComplete}get isRunning(){return this._isRunning.value}tick=e=>{const t=e-this.lastTimestamp,r=t/this.options.duration*this.direction;this.delayBuffer<this.options.delay?this.delayBuffer+=t:(this.progress=Math.min(1,Math.max(0,this.progress+r)),this.options.draw(this.progress)),(this.direction===a.Directions.Forward?1===this.progress:0===this.progress)?(this._isRunning.value=!1,this.direction===a.Directions.Forward&&"function"==typeof this.options.onComplete&&(this.options.onComplete(),this._isComplete=!0)):(this.lastTimestamp=e,this.requestId=window.requestAnimationFrame(this.tick))};onIsRunningChange=e=>{e?(this.lastTimestamp=performance.now(),this.requestId=window.requestAnimationFrame(this.tick)):("function"==typeof this.options.onCancel&&1!==this.progress&&0!==this.progress&&this.options.onCancel(this.progress),null!==this.requestId&&window.cancelAnimationFrame(this.requestId))}}},732(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Directions=void 0,t.Directions={Forward:1,Backward:-1}},819(e){function t(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}e.exports=function(){function e(e){this.callbacks=[],this.internal=e,this.initialValue=e}var r,o,n=e.prototype;return n.subscribe=function(e){var t=this;if("function"!=typeof e)throw new TypeError("[createObservable]: expected callback to be a function.");return this.callbacks.push(e),function(){var r=t.callbacks.indexOf(e);t.callbacks=t.callbacks.slice(0,r).concat(t.callbacks.slice(r+1))}},n.reset=function(){this.callbacks=[],this.internal=this.initialValue},r=e,(o=[{key:"value",get:function(){return this.internal},set:function(e){if(e!==this.internal){var t=this.internal;this.internal=e;for(var r=0;r<this.callbacks.length;r++)this.callbacks[r](this.internal,t)}}}])&&function(e,r){for(var o=0;o<r.length;o++){var n=r[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t(n.key),n)}}(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r}()},961(e){function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function r(e){return null!==e&&"object"==typeof e&&!1===Array.isArray(e)}function o(e){var r=e.optionConfig,o=e.userOptions,n=void 0===o?{}:o,i=e.prefix,a=void 0===i?"":i,s=e.suffix,l=void 0===s?"":s,u=e.strict,c=void 0===u||u,d=function(e){return[a,e,l].join(" ")},h={};for(var f in r)if(t(r,f)){var y=r[f],p=y.required,m=y.default,v=y.description,g=y.validator,b=n[f],_=!!t(y,"required")&&("function"==typeof p?p(n):p),w=t(n,f),k=g(b,n);if(_){if(!w)throw new TypeError(d(f+" is required."));if(!k)throw new TypeError(d("Expected "+f+" to be "+v+", got "+typeof b+" "+b+"."));h[f]=b}else if(h[f]=m,w)if(k)h[f]=b;else{if(c)throw new TypeError(d("Expected "+f+" to be "+v+", got "+typeof b+" "+b+"."));console.warn(d("Expected "+f+" to be "+v+", got "+typeof b+" "+b+". Fallback to default value "+m+"."))}}return h}var n="[mergeOptions]:",i="\nCheck out documentation https://github.com/dubaua/merge-options#parameters-and-return";function a(e){throw new TypeError([n,e,i].join(" "))}var s={optionConfig:{required:!0,validator:function(e){for(var o in e)if(t(e,o)){var n=e[o];if(r(n)||a("Expected optionConfig."+o+" to be an object with declarative option configuration, got "+typeof n+" "+n+"."),t(n,"required")){var i=n.required,s=typeof i;"boolean"!==s&&"function"!==s&&a("Expected optionConfig."+o+".required to be either boolean or function, got "+typeof i+" "+i+".")}else t(n,"default")||a("Expected optionConfig."+o+" to either have required or default value.");if(t(n,"default")||t(n,"required")||a("Expected optionConfig."+o+" to either have required or default value."),t(n,"description")){var l=n.description;"string"!=typeof n.description&&a("Expected optionConfig."+o+".description to be a string, got "+typeof l+" "+l+".")}else a("Missing description on optionConfig."+o+" config.");if(t(n,"validator")){var u=n.validator;"function"!=typeof n.validator&&a("Expected optionConfig."+o+".validator to be a function, got "+typeof u+" "+u+".")}else a("Missing validator on optionConfig."+o+" config.")}return r(e)},description:"an object with declarative option configuration"},userOptions:{required:!1,default:{},validator:r,description:"an object"},prefix:{required:!1,default:"",validator:function(e){return"string"==typeof e},description:"a string"},suffix:{required:!1,default:"",validator:function(e){return"string"==typeof e},description:"a string"},strict:{required:!1,default:!0,validator:function(e){return"boolean"==typeof e},description:"a boolean"}};e.exports=function(e){var t=o({optionConfig:s,userOptions:e,prefix:n,suffix:i});return o(t)}}},t={};return function r(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,r),i.exports}(320)})(),e.exports=t()}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};r.r(e),r.d(e,{randomPhrases:()=>C,requiredPhrases:()=>A});var t={};r.r(t),r.d(t,{randomPhrases:()=>E,requiredPhrases:()=>O});var o=r(602),n=r.n(o),i=Math.PI;var a=r(819),s=r.n(a),l=r(884);var u=[{x:79,y:74},{x:105,y:100},{x:105,y:74},{x:79,y:100}],c={x:92,y:87},d=[{x:145,y:74},{x:171,y:100},{x:171,y:74},{x:145,y:100}],h={x:158,y:87};function f(e,t){var r=12*e;t.setAttribute("r",r.toString())}function y(e,t,r,o){var n=function(e,t,r){var o=e.map(function(e){var o=e.x,n=e.y;return{x:t.x+(o-t.x)*r,y:t.y+(n-t.y)*r}});return"M".concat(o[0].x," ").concat(o[0].y,"L").concat(o[1].x," ").concat(o[1].y,"M").concat(o[2].x," ").concat(o[2].y,"L").concat(o[3].x," ").concat(o[3].y)}(t,r,e);o.setAttribute("d",n)}function p(e,t,r){var o=-8*t;r.setAttribute("transform","scale(".concat(e," 1) translate(0 ").concat(o,")"))}function m(e){return 1-Math.sqrt(1-e*e)}function v(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}function g(e,t){var r,o,n,i,a,s,l,g;(t.mouthClipPath&&t.mouthShape&&(r=e.mouthEllipse,o=t.mouthClipPath,n=t.mouthShape,i=(75*r).toString(),o.setAttribute("ry",i),n.setAttribute("ry",i)),t.mouthLine&&(a=e.mouthLineScaleX,s=e.mouthLineShiftX,l=t.mouthLine,g=50*(s-.5)*2,l.setAttribute("transform","translate(".concat(g," 0) scale(").concat(a," 1)"))),t.tongue)&&function(e,t,r){var o=102*e,n=72*t;r.setAttribute("transform","translate(".concat(o," ").concat(n,")"))}(v(e.tongueX),v(e.tongueY),t.tongue);(t.leftEyeOpen&&function(e,t){f(e,t)}(e.eyeOpenLeft,t.leftEyeOpen),t.rightEyeOpen&&function(e,t){f(e,t)}(e.eyeOpenRight,t.rightEyeOpen),t.leftEyeClosed&&function(e,t){y(e,u,c,t)}(e.eyeClosedLeft,t.leftEyeClosed),t.rightEyeClosed&&function(e,t){y(e,d,h,t)}(e.eyeClosedRight,t.rightEyeClosed),t.leftBrow&&function(e,t,r){p(e,t,r)}(e.leftBrowScaleX,e.leftBrowY,t.leftBrow),t.rightBrow&&function(e,t,r){p(e,t,r)}(e.rightBrowScaleX,e.rightBrowY,t.rightBrow),t.glass&&function(e,t){var r=550*(1-m(e)),o=-100*(1-m(e)),n=30*(1-m(e));t.setAttribute("transform","translate(".concat(r," ").concat(o,") rotate(").concat(n,")"))}(e.glasses,t.glass),t.handInner&&t.handOuter)&&function(e,t,r){var o=-12*(1-m(e)),n=12*(1-m(e));r.setAttribute("transform","translate(".concat(o," ").concat(n,")")),t.setAttribute("opacity",e.toString())}(v(e.hand),t.handInner,t.handOuter)}var b=[{mouthEllipse:0,mouthLineScaleX:1,mouthLineShiftX:.5,tongueX:.685,tongueY:0,eyeOpenLeft:.8,eyeOpenRight:.8,eyeClosedLeft:0,eyeClosedRight:0,leftBrowScaleX:0,leftBrowY:0,rightBrowScaleX:0,rightBrowY:0,glasses:0,hand:0},{mouthEllipse:0,mouthLineScaleX:1,mouthLineShiftX:.5,tongueX:.685,tongueY:.7,eyeOpenLeft:.8,eyeOpenRight:.8,eyeClosedLeft:0,eyeClosedRight:0,leftBrowScaleX:0,leftBrowY:0,rightBrowScaleX:0,rightBrowY:0,glasses:0,hand:0},{mouthEllipse:0,mouthLineScaleX:.5,mouthLineShiftX:.67,tongueX:.685,tongueY:0,eyeOpenLeft:.8,eyeOpenRight:.8,eyeClosedLeft:0,eyeClosedRight:0,leftBrowScaleX:1,leftBrowY:1,rightBrowScaleX:1,rightBrowY:0,glasses:0,hand:1},{mouthEllipse:0,mouthLineScaleX:1,mouthLineShiftX:.5,tongueX:.685,tongueY:0,eyeOpenLeft:.8,eyeOpenRight:.8,eyeClosedLeft:0,eyeClosedRight:0,leftBrowScaleX:0,leftBrowY:0,rightBrowScaleX:0,rightBrowY:0,glasses:1,hand:0},{mouthEllipse:1,mouthLineScaleX:1,mouthLineShiftX:.5,tongueX:.685,tongueY:0,eyeOpenLeft:1,eyeOpenRight:1,eyeClosedLeft:0,eyeClosedRight:0,leftBrowScaleX:0,leftBrowY:0,rightBrowScaleX:0,rightBrowY:0,glasses:0,hand:0}],_={mouthEllipse:0,mouthLineScaleX:1,mouthLineShiftX:.5,tongueX:.315,tongueY:.7,eyeOpenLeft:0,eyeOpenRight:0,eyeClosedLeft:.8,eyeClosedRight:.8,leftBrowScaleX:0,leftBrowY:0,rightBrowScaleX:0,rightBrowY:0,glasses:0,hand:0};function w(e,t){return t.reduce(function(t,r,o){var n,i=null!==(n=e[o])&&void 0!==n?n:0;return t.mouthEllipse+=r.mouthEllipse*i,t.mouthLineScaleX+=r.mouthLineScaleX*i,t.mouthLineShiftX+=r.mouthLineShiftX*i,t.tongueX+=r.tongueX*i,t.tongueY+=r.tongueY*i,t.eyeOpenLeft+=r.eyeOpenLeft*i,t.eyeOpenRight+=r.eyeOpenRight*i,t.eyeClosedLeft+=r.eyeClosedLeft*i,t.eyeClosedRight+=r.eyeClosedRight*i,t.leftBrowScaleX+=r.leftBrowScaleX*i,t.leftBrowY+=r.leftBrowY*i,t.rightBrowScaleX+=r.rightBrowScaleX*i,t.rightBrowY+=r.rightBrowY*i,t.glasses+=r.glasses*i,t.hand+=r.hand*i,t},{mouthEllipse:0,mouthLineScaleX:0,mouthLineShiftX:0,tongueX:0,tongueY:0,eyeOpenLeft:0,eyeOpenRight:0,eyeClosedLeft:0,eyeClosedRight:0,leftBrowScaleX:0,leftBrowY:0,rightBrowScaleX:0,rightBrowY:0,glasses:0,hand:0})}function k(e,t,r,o,n){var i=Math.max(0,Math.min(1,e/t)),a=100*i;n.setAttribute("width",a.toString());var s=function(e){var t=Math.max(0,Math.min(1,e)),r={r:0,g:255,b:0},o={r:255,g:204,b:0},n={r:255,g:51,b:0};if(t<=.25)return n;if(t<=.5){return S(o,n,(.5-t)/.25)}if(t<.75){return S(r,o,(.75-t)/.25)}return r}(i),l=s.r,u=s.g,c=s.b;n.setAttribute("fill","rgb(".concat(l,", ").concat(u,", ").concat(c,")")),o.parentElement&&(o.parentElement.style.opacity=r.toString())}function S(e,t,r){return{r:Math.round(e.r+(t.r-e.r)*r),g:Math.round(e.g+(t.g-e.g)*r),b:Math.round(e.b+(t.b-e.b)*r)}}var A=["no","no.","No!"],C=["go fuck yourself, noob","you clicked me to death, now grind solo, loser","i am not coming back","get lost","you realize you're just spamming a dead script?","you tilted yet?","i ain't even in the DOM anymore, scrub","forget it","you're really tilting me, dude","nothing will happen","there will be no magic","you won, congrats","happy with your K/D now?","was here, now despawned","do not touch","there will be no content","this was a total glitch","hp is gone","too late","clicking will not help","you're late to the raid, scrub","the questline's donezo","i am not responding","this is endgame, gg","there is nothing beyond this","you broke the toy, boi","the crit landed, applause","hp hit zero, so did i","click once more, maybe I'll rez magically","combo complete","the death animation was clear, right?","the hp bar is empty, just like my hopes","corpses do not regenerate hp","i do not respawn","this is not a roguelike","yeah, sure, F5 that shit, that'll respawn me","you ruined everything","you broke everything","i refuse to answer on principle","do you really expect a reaction","i am no longer part of this scene","leave me alone","do you really think anything will happen?","are you seriously still going?","are you checking just in case?","what if i change my mind, right?","are you really waiting for a miracle?","you call this a dialogue?","go click your own hitbox","you missed the hint","hp is zero, end of dialogue","my dialogue script is finished","interactivity ended with my hp","you exhausted all the content","even the debug console will not bring me back","this is not a bug, dead means dead","you finished me off, congrats","crit hit to my patience bar","that death animation was final, not a teaser","you're clicking an empty hitbox","waiting for a reload? keep dreaming","you took the last hp, what are you waiting for?","my hitbox is ghosted, git gud","the event trigger for my lines is toast","endgame. time to leave","even in casual mode, no respawn for me","quest completed: kill the chatterbox","my animation's a one-shot, not a loop","cheat codes will not help","you need a new target","this is not a glitch, i just do not exist","delete the instance and alt+f4","gg, thanks for playing, moron","do not expect a respawn, this is not an MMO","you knocked me offline","you broke the mechanic, well done","respawn is disabled in settings","cya, noob","respawn is for weaklings","click harder, maybe it'll register","seriously, do you have nothing better to do?","and what do you think will happen now?","are you paid for these clicks?","was my death animation not convincing enough?","you believe in easter eggs for tryhards?","is this some kind of stubbornness challenge?","are you checking if this is a bug?","clicking just in case, hoping it will work?",'need a popup saying "You Won!"?',"why are you tormenting this script?","are you really waiting for a response from zero hp?","what next, digging for my spawn point in the code?","do you think i will give you a second chance?","are you looking for a secret dialogue branch?","bored without my HP bar to farm?","trying to set a record for clicks into nothing?","waiting for your own hp to run out?","so, having fun?","respawn is banned by the admin","zone out, it's empty here"],O=["нет","нет.","Нет!"],E=["иди нахер, чел","скликал меня, вот и сиди теперь один","я не вернусь","отвали","ты понимаешь, что ты просто в скрипт долбишься?","тебе не надоело","меня даже уже нет в документе","забудь","как ты меня достал","ничего не произойдёт","магии не будет","ты победил, поздравляю","доволен собой, да?","была, да сплыла","не трогай","контента не будет","это была ошибка","хп кончилось","поздно","клики не помогут","ты опоздал","сценарий завершён","я не откликнусь","это финал","дальше пусто","сломал игрушку","крит прошёл, аплодисменты","минус хп, минус я","ещё раз нажми, вдруг воскресну","комбо завершено","анимация смерти была ясной, не?","полоска хп пуста, как и мои надежды","у трупа нет хп регена","я не респавнюсь","тут тебе не роглайк","знаешь, перезагрузка меня реснет","ты всё испортил","ты всё сломал","я не отвечаю из принципа","ты правда ждёшь реакции","я больше не часть этой сцены","оставь меня в покое","ты правда думаешь что-то выйдет?","ты всерьёз продолжаешь?","ты проверяешь на всякий случай?","а вдруг я передумаю, да?","ты реально ждёшь чуда?","ты считаешь это диалогом?","в очко себе покликай","ты не понял намёк","хп ноль, реплик не будет","скрипт моего диалога завершён","интерактивность кончилась вместе с хп","ты исчерпал весь контент","даже дебаг-консоль меня не вернёт","это не баг, это фича — мёртвый остаётся мёртвым","ты добил меня, грац","крит по моему терпению","анимация смерти была финальной, а не прелюдией","ты кликаешь в пустой коллайдер","жду перезагрузки? соси","ты выбил последнее хп, чего ждёшь","мой хитбокс рассосался","триггер на мою реплику сломан","эндшпиль. пора выходить","игра не в хардкоре, респавна нет","ты прошёл квест «убийство болтуна»","моя анимация — это петля, а не бумеранг","чит-коды не помогут","тебе нужна новая цель","это не глитч, меня просто нет","заверши инстанс и иди дальше","спасибо за прохождение, дебич","респавна не жди, это не ммо","ты выбил меня в оффлайн","сломал механику, молодец","респавн отключён в настройках","покеда, тупица","респавн для слабаков","кликни сильнее, вдруг я почувствую","серьёзно, тебе больше нечего делать?","а что, по-твоему, сейчас произойдёт?","тебе платят за эти клики?","моя анимация смерти была недостаточно убедительной?","ты веришь в пасхалки для упоротых?","это какой-то челлендж на упрямство?","ты проверяешь, не баг ли это?","кликаешь на всякий случай, вдруг прокатит?",'тебе нужен поп-ап "ты победил"?',"зачем ты мучаешь этот скрипт?","ты всерьёз ждёшь ответа от нуля хп?","что дальше, будешь искать мой спавн в коде?","ты думаешь, я дам тебе второй шанс?","ты ищешь секретную ветку диалога?","тебе стало скучно без моей хп-полоски?","хочешь поставить рекорд по кликам в ничто?","жду, когда у тебя самого хп кончится.","и что, весело?","респавн забанен админом","смени локацию, тут пусто."];function L(){var r="ru"===document.documentElement.getAttribute("lang")?t:e,o=r.requiredPhrases,n=r.randomPhrases,i={nodes:[],sulkNodes:[],sulkAnimation:null,sulkFadeAnimation:null,moveCounter:0},a=[];function s(e){var t,r;if(null===(t=i.sulkAnimation)||void 0===t||!t.isRunning){var o=Math.min(48*e.length,500);null===(r=i.sulkFadeAnimation)||void 0===r||r.pause().destroy(),i.sulkFadeAnimation=null,i.sulkAnimation=new l.Ogawa({duration:o,draw:function(t){var r=Math.floor(e.length*t),o=e.slice(0,r);i.sulkNodes.forEach(function(e){e.style.opacity="1",e.textContent=o})},onComplete:function(){i.sulkNodes.forEach(function(t){t.textContent=e})}})}}function u(){var e=o.shift();if(e)s(e);else{if(0===n.length)return a.forEach(function(e){var t=e.node,r=e.onMouseMove,o=e.onMouseLeave,n=e.onClick;t.removeEventListener("mousemove",r),t.removeEventListener("mouseleave",o),t.removeEventListener("click",n)}),a.length=0,i.nodes=[],i.sulkNodes=[],null===(t=i.sulkAnimation)||void 0===t||t.pause().destroy(),i.sulkAnimation=null,null===(r=i.sulkFadeAnimation)||void 0===r||r.pause().destroy(),i.sulkFadeAnimation=null,void(i.moveCounter=0);var t,r,l=Math.floor(Math.random()*n.length),u=n.splice(l,1)[0];u&&s(u)}}i.nodes=Array.from(document.querySelectorAll("[data-sulking]")),0!==i.nodes.length&&(i.sulkNodes=i.nodes.map(function(e){e.classList.add("sulk"),e.classList.add("typography");var t=document.createElement("p");return t.className="sulk__phrase",e.append(t),t}),i.nodes.forEach(function(e){var t=function(){i.moveCounter+=1,i.moveCounter<128||(i.moveCounter=0,u())},r=function(){i.moveCounter=0},o=function(){u(),i.moveCounter=0};e.addEventListener("mousemove",t),e.addEventListener("mouseleave",r),e.addEventListener("click",o),a.push({node:e,onMouseMove:t,onMouseLeave:r,onClick:o})}))}var x=new(n())({solidClassnameArray:[{logo:"logo--contrast-lg",pager:"pager--contrast-lg",language:"language--contrast-lg"},{pager:"pager--contrast-only-md",menu:"menu--contrast",about:"about--contrast"},{logo:"logo--contrast-lg",pager:"pager--contrast-lg",language:"language--contrast-lg"},{logo:"logo--contrast-only-md",pager:"pager--contrast-only-md",language:"language--contrast-only-md",menu:"menu--contrast",about:"about--contrast"},{logo:"logo--contrast-lg",pager:"pager--contrast-lg",language:"language--contrast-lg"}],fromViewportWidth:1024,pagerLinkActiveClassname:"pager__link--active",scrollAdjustThreshold:50,scrollAdjustDelay:600,on:{init:function(e){window.immerserInstance=e,console.log("init",e)},bind:function(e){console.log("bind",e)},unbind:function(e){console.log("unbind",e)},destroy:function(e){console.log("destroy",e)},activeLayerChange:function(e,t){console.log("activeLayerChange",e,t)}}}),N=function(e){var t=1e3,r={hp:new(s())(1e3),hpRegen:333,regenAnimation:null,hpBarAnimation:null,isDead:new(s())(!1),lastConfig:_,nodes:[]};function o(e,o){r.nodes.forEach(function(r){r.hpBarOutline&&r.hpBarFill&&k(e,t,o,r.hpBarOutline,r.hpBarFill)})}var n=Array.from(document.querySelectorAll("[data-emoji-face]"));if(0===n.length)return{handleLayersUpdate:function(e){}};r.nodes=n.map(function(e){return{face:t=e,mouthClipPath:t.querySelector("[data-mouth-clip-path]"),mouthShape:t.querySelector("[data-mouth-shape]"),mouthLine:t.querySelector("[data-mouth-line]"),tongue:t.querySelector("[data-tongue]"),leftEyeClosed:t.querySelector("[data-left-eye-closed]"),rightEyeClosed:t.querySelector("[data-right-eye-closed]"),leftEyeOpen:t.querySelector("[data-left-eye-open]"),rightEyeOpen:t.querySelector("[data-right-eye-open]"),leftBrow:t.querySelector("[data-left-brow]"),rightBrow:t.querySelector("[data-right-brow]"),glass:t.querySelector("[data-glass]"),hpBarOutline:t.querySelector("[data-emoji-hp-bar-outline]"),hpBarFill:t.querySelector("[data-emoji-hp-bar-fill]"),handInner:t.querySelector("[data-emoji-hand]"),handOuter:t.querySelector("[data-emoji-hand-outer]"),rotator:t.querySelector("[data-emoji-rotator]")};var t});var a=new l.Ogawa({autoStart:!1,duration:620,draw:function(e){var t,o=(t=e,(1-Math.cos(i*t))/2);r.nodes.forEach(function(e){var t=e.rotator;t&&t.setAttribute("transform","rotate(".concat(360*o," 125 125)"))}),r.nodes.forEach(function(t){if(t.handInner){var r=-3*(e<=.5?e/.5:2-2*e);t.handInner.style.transform="rotate(".concat(r,"deg)")}})}}),u=n.map(function(e){var o=!1,i=function(e){e.stopPropagation(),o=a.isRunning,a.reset(),r.isDead.value||n.forEach(function(e){e.style.transform="translateY(".concat(2,"px)")})},s=function(e){if(e.stopPropagation(),n.forEach(function(e){e.style.transform=""}),!r.isDead.value&&o){var i=Math.round(150*Math.random())+100;r.hp.value=Math.min(Math.max(0,r.hp.value-i),t)}r.isDead.value||a.run()};return e.addEventListener("mousedown",i),e.addEventListener("mouseup",s),{faceNode:e,onMouseDown:i,onMouseUp:s}}),c=function(t){console.log("layersUpdate",t,e),r.lastConfig=w(t,b),r.isDead.value||r.nodes.forEach(function(e){return g(r.lastConfig,e)})};return c([1,0,0,0,0]),r.hp.subscribe(function(e,n){var i,a=0<e&&e<t,s=e<=0,u=void 0!==n&&e<n;if(o(e,1),s)return null===(i=r.regenAnimation)||void 0===i||i.pause().destroy(),void(r.isDead.value=!0);a&&u&&function(){var e;null===(e=r.regenAnimation)||void 0===e||e.pause().destroy();var n=t-r.hp.value,i=n/r.hpRegen*1e3,a=r.hp.value;r.regenAnimation=new l.Ogawa({duration:i,delay:1400,draw:function(e){r.hp.value=Math.min(t,a+n*e)},onComplete:function(){var e,n;null===(e=r.regenAnimation)||void 0===e||e.destroy(),null===(n=r.hpBarAnimation)||void 0===n||n.pause().destroy(),r.hpBarAnimation=new l.Ogawa({delay:2e3,duration:320,draw:function(e){o(t,1-e)},onComplete:function(){var e;null===(e=r.hpBarAnimation)||void 0===e||e.destroy()}})}})}()}),r.isDead.subscribe(function(t){if(t)var o=new l.Ogawa({duration:320,draw:function(e){var t=w([1-e,e],[r.lastConfig,_]);r.nodes.forEach(function(e){return g(t,e)})},onComplete:function(){var t=new l.Ogawa({delay:1e3,duration:320,draw:function(e){r.nodes.forEach(function(t){var r=t.face;r&&(r.style.transform="translate(".concat(200*e,"%,0)"))})},onComplete:function(){var i,s;e.off("layersUpdate",c),u.forEach(function(e){var t=e.faceNode,r=e.onMouseDown,o=e.onMouseUp;t.removeEventListener("mousedown",r),t.removeEventListener("mouseup",o),t.style.transform=""}),a.pause().destroy(),null===(i=r.regenAnimation)||void 0===i||i.pause().destroy(),r.regenAnimation=null,null===(s=r.hpBarAnimation)||void 0===s||s.pause().destroy(),r.hpBarAnimation=null,r.hp.reset(),r.isDead.reset(),r.nodes.forEach(function(e){e.face=null,e.mouthClipPath=null,e.mouthShape=null,e.mouthLine=null,e.tongue=null,e.leftEyeClosed=null,e.rightEyeClosed=null,e.leftEyeOpen=null,e.rightEyeOpen=null,e.leftBrow=null,e.rightBrow=null,e.glass=null,e.hpBarOutline=null,e.hpBarFill=null,e.handInner=null,e.handOuter=null,e.rotator=null}),r.nodes=[],r.lastConfig=_,n.forEach(function(e){return e.remove()}),n.length=0,u.length=0,t.destroy(),o.destroy(),L()}})}})}),{handleLayersUpdate:c}}(x),M=N.handleLayersUpdate;x.on("layersUpdate",M);var B=document.querySelectorAll("[data-highlighter]"),j="highlighter-animation-active";function H(e){return function(){if(x.isBound){var t=e.dataset.highlighter;if(t)document.querySelectorAll(t).forEach(function(e){if(!e.isHighlighting){e.isHighlighting=!0,e.classList.add(j);var t=window.setTimeout(function(){e.classList.remove(j),window.clearTimeout(t),e.isHighlighting=!1},1500)}})}}}B.forEach(function(e){e.addEventListener("mouseover",H(e)),e.addEventListener("click",H(e))});var q=document.getElementById("rulers");q&&document.addEventListener("keydown",function(e){var t=e.altKey,r=e.code,o=e.keyCode;t&&("KeyR"===r||82===o)&&q.classList.toggle("rulers--active")}),console.log("welcome here, fella. Press Alt+R to see vertical rhythm")})()})();
//# sourceMappingURL=main.js.map